<link rel="stylesheet" href="./assets/stylesheets/twinlist/twinlist.css">
<link rel="stylesheet" href="./assets/stylesheets/twinlist/jquery-ui-1.10.2.custom.css">

<script src="./assets/javascripts/twinlist/jquery.transit.min.js"></script>
<script src="./assets/javascripts/twinlist/utils.js"></script>
<script src="./assets/javascripts/twinlist/panels.js"></script>
<script src="./assets/javascripts/twinlist/logger.js"></script>
<script src="./assets/javascripts/twinlist/model.js"></script>
<script src="./assets/javascripts/twinlist/controller.js"></script>
<script src="./assets/javascripts/twinlist/index.js"></script>

<div id="modal-dialog" class="twinlist modal-dialog modal-lg">
  <div class="modal-content">
    <!-- Remove padding normally here to make the whole header black -->
    <div class="modal-header" style="padding: 0">
      <header class="banner">
        <h1 class="logo">twinlist</h1>
        <nav class="main-nav explanatory-text">
          <ul>
            <li class="nav-item">
              <a class="compare nav-link">compare lists</a>
            </li>
            <li class="nav-item">
              <a class="cycle_groupby nav-link" value="__ATTR_DIAGNOSES__">group by: diagnoses</a>
            </li>
            <li class="nav-item">
              <a class="help nav-link">show help</a>
            </li>
            <li class="nav-item">
              <a class="options nav-link">show options</a>
            </li>
            <li class="nav-item">
              <a class="retry nav-link">start over?</a>
            </li>
          </ul>
        </nav>
      </header>
    </div>
    
    <div class="modal-body">
      <div class="center twinlist-panel">
        <div id="app" class="content-text">
          <div class="content">
            <table class="backdrop backdrop-header"></table>
            <div class="scrolling_content scroll-y">
              <table class="backdrop backdrop-body"></table>
              <div class="items"></div>
              <div class="groups"></div>
              <div class="diagnoses"></div>
              <div class="drug_classes"></div>
            </div>
          </div>

          <div class="detail">
            <span class="label bg-accent">Detail</span>
            <span class="content bg-contrast-light">
              Nothing to display.
            </span>
          </div>

          <div class="scrolltips explanatory-text">
            <div class="scrolltip up" style="top: 58px;"></div>
            <div class="scrolltip down" style="bottom: 103px;"></div>
          </div>

          <div class="modify explanatory-text">
            <!-- TODO the styling of "top" seemed to have been generated by something ??? -->
            <a class="add bg-contrast-dark" style="top: 129px;">add</a>
            <a class="edit bg-contrast-dark" style="top: 166.5px;">edit</a>
          </div>

          <div class="review_button explanatory-text ">
            <a class="review bg-contrast-dark" style="bottom: 15%;">test</a> <!-- TODO consider refactoring styling -->
          </div>

          <div class="alert-modal twinlist-modal">
            <p></p>
            <button id="alert-close" class="close">Close</button>
          </div>

          <div class="help-modal twinlist-modal scroll-y">
            <button class="help-close close">Close</button>
            <div class="welcome">
              <h2>Welcome to the Twinlist demo!</h2>
              <br/>
              <p>
              Twinlist can be used to reconcile lists of medications in
              a variety of situations. This particular demo is an example
              of what could happen when a <strong>hospital physician
                discharges a patient</strong>.
              </p>
              <br/>
              <p>
              The <strong>Intake</strong> list shows what the patient
              said he was taking at home (recorded during the
              intake interview); the <strong>Hospital</strong> list
              shows what he is currently taking at the hospital. The
              physician must compare these two lists and select all the
              drugs the patient should take once he returns home.
              </p>
              <br/>
            </div>
            <h4>To get started:</h4>
            <br/>
            <ul>
              <li>
                To interact with a drug, click on it:
                <ul>
                  <li>left-click once to <em>keep</em>;</li>
                  <li>right-click once to <em>reject</em>;</li>
                </ul>
                Repeatedly clicking on a drug will cycle through these
                three states.
              </li>
              <li>
                If on a touch-device:
                <ul>
                  <li>tap on a drug to highlight and see additional information</li>
                  <li>left-swipe once to keep</li>
                  <li>right-swipe once to reject</li>
                </ul>
              </li>
              <li>
                To keep or reject multiple drugs, click <strong>keep
                  rest</strong> or <strong>reject rest</strong>,
                respectively (beneath the column headers). <strong>clear
                </strong> will cancel all decisions for that column.
              </li>
              <li>
                Once all drugs have been decided on, submit 
                your decisions by clicking <strong>sign off</strong> 
                at the bottom right.
              </li>
              <li>
                Shortcuts:
                <ul>
                  <li>M - toggle multigroup</li>
                  <li>O - toggle options panel</li>
                  <li>D/C/R/N - group by diagnosis/drug class/route/none</li>
                  <li>(0 - 5) - change animation speed</li>
                  <li>L - dump log</li>
                </ul>
              </li>
            </ul>
            <br/>
            <h4>Browser compatibility:</h4>
            <br/>
            <ul>
              <li>
                This demo requires HTML5, CSS3, and JS. Therefore,
                <strong>please ensure that you are viewing this page
                  on an up-to-date browser</strong>. Chrome would be
                best; Firefox is also good. Currently, Internet Explorer 8
                and earlier will not work.
              </li>
            </ul>
            <br/>
            <h4>About us:</h4>
            <br/>
            <ul>
              <li>
                This prototype is currently being developed by 
                <a href="mailto:jywu07@cs.umd.edu;subject='twinlist%20demo'">
                  Johnny Wu</a>, at the University of Maryland's
                <a href="http://www.cs.umd.edu/hcil/">Human-Computer
                  Interaction Lab</a>, under the supervision of
                <a href="mailto:plaisant@cs.umd.edu;subject='twinlist%20demo'">
                  Catherine Plaisant</a> and Ben Shneiderman.
              </li>
              <li> 
                It was originally developed by <a href="mailto:tchao@cs.umd.edu;subject='twinlist%20demo'">
                  Tiffany Chao</a> (2011-2012) and is based on an earlier
                <a href="https://wiki.cs.umd.edu/cmsc734_11/index.php?title=TwinList">
                  class project</a> by Leo Claudino, Sameh Khamis, Ran Liu,
                Ben London, and Jay Pujara.
              </li>
              <li>
                Twinlist is also part of the greater
                <a href="http://www.cs.umd.edu/hcil/sharp/">SharpC</a>
                initiative.
              </li>
            </ul>
            <div class="welcome">
              <p>
              Now that that's cleared up, please close this window and start the demo!
              </p>
            </div>

            <button class="help-close close">Close</button>
          </div>

          <div class="modify-modal twinlist-modal">
            <div id="modify" class="explanatory-text">
              <h1>edit</h1>

              <div class="preview item modified content-text">
                <div class="name"></div>
                <div class="detail">
                  <span class="dose"></span>
                  <span class="route"></span>
                  <span class="frequency"></span>
                </div>
              </div>

              <div class="fields">
                <label for="name">Drug name</label>
                <input name="name" placeholder="full drug name">

                <label for="dose">Dose (mg)</label>
                <input name="dose" placeholder="amount for one dose (e.g. 1 mg)">

                <label for="route">Route</label>
                <input name="route" placeholder="abbrev. route (e.g. PO)">

                <label for="frequency">Frequency</label>
                <input name="frequency" placeholder="abbrev. frequency (e.g. q4h)">

                <label for="instructions">Notes</label>
                <textarea name="instructions" rows="4" placeholder="any additional instructions"></textarea>
                <a class="save bg-contrast-dark">save changes</a>
              </div>

              <span class="watermark">[ CPOE PLACEHOLDER ]</span>

              <button class="close">Close</button>
            </div>

          </div>

          <table class="options-panel explanatory-text">
            <tbody><tr>
                <td>
                  Display:
                </td>
                <td>
                  <select name="displayName">
                    <option value="recorded">recorded name</option>
                    <option value="generic">generic name</option>
                    <option value="brand">brand name</option>
                  </select>
                  <br>
                  <input name="displayDetails" type="checkbox" checked="checked">
                  item details
                </td>

                <td>
                  Speed:
                </td>
                <td>
                  <select name="speed">
                    <option value="__ANIMATION_SPEED_0__">
                    0 (jump to end)
                    </option>
                    <option value="__ANIMATION_SPEED_1__">
                    1 (slowest)
                    </option>
                    <option value="__ANIMATION_SPEED_2__">
                    2 (slower)
                    </option>
                    <option value="__ANIMATION_SPEED_3__">
                    3 (medium, default)
                    </option>
                    <option value="__ANIMATION_SPEED_4__">
                    4 (faster)
                    </option>
                    <option value="__ANIMATION_SPEED_5__">
                    5 (fastest)
                    </option>
                  </select>
                </td>

                <td>
                  Jump to step:
                </td>
                <td>
                  <ul>
                    <li>
                      <a class="separate active">separate</a>
                    </li>
                    <li>
                      <a class="identical">identical</a>
                    </li>
                    <li>
                      <a class="unique">unique</a>
                    </li>
                    <li>
                      <a class="similar">similar</a>
                    </li>
                    <li>
                      <a class="compact">compact</a>
                    </li>
                  </ul>
                </td>
              </tr>
              <tr>
                <td>
                  Group by:
                </td>
                <td>
                  <select name="groupBy">
                    <option value="">none</option>
                    <option value="__ATTR_DRUG_CLASS__">drug class</option>
                    <option value="__ATTR_ROUTE__">route</option>
                    <option value="__ATTR_DIAGNOSES__">diagnosis</option>
                  </select>
                  <br>
                  <input id="chk_mg" name="multigroup" type="checkbox">
                  multigroup
                </td>

                <td>
                  Filter on:
                </td>
                <td>
                  <input name="filterOn" type="text">
                </td>

                <td>
                  After action:
                </td>
                <td>
                  <ul>
                    <li>
                      <a class="grayout active">grayout</a>
                    </li>
                    <li>
                      <a class="remove">remove</a>
                    </li>
                    <li>
                      <input id="chk_pt" name="patient_tab" type="checkbox">
                      show patient tab
                    </li>
                  </ul>
                </td>
              </tr>
            </tbody>
          </table>

          <span class="annotation">[ case : appendectomy ]</span>

          <footer class="branding">
            <ul>
              <li><img src="./assets/images/twinlist/sharpc_logo.jpg" class="logo"></li>
              <li><img src="./assets/images/twinlist/hcil_logo.jpg" class="logo"></li>
              <li><img src="./assets/images/twinlist/umd_logo.gif" class="logo"></li>
            </ul>
          </footer>
        </div>
      </div>
    </div>
  </div>
</div>
